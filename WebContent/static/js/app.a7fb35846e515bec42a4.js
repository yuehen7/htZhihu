webpackJsonp([1],{11:function(t,e,s){"use strict";var a=s(1),n=s(49),i=s(46),r=s.n(i);a.a.use(n.a),e.a=new n.a({routes:[{path:"/",redirect:"/index"},{path:"/index",name:"index",component:r.a}]})},13:function(t,e,s){s(40);var a=s(8)(s(33),s(47),null,null);t.exports=a.exports},31:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(1),n=s(10),i=s.n(n),r=s(12),o=s.n(r),u=s(13),l=s.n(u),c=s(11);a.a.use(o.a,i.a),a.a.config.productionTip=!1,new a.a({el:"#app",router:c.a,template:"<App/>",components:{App:l.a}})},32:function(t,e,s){"use strict";var a=s(1);e.a={login:function(t,e,s){if(s=arguments[arguments.length-1],localStorage.token)return void(s&&s(!0));a.a.axios.post("api/platform/login/login",{email:t,password:e}).then(function(t){return t.data},function(t){return console.log("服务器异常！"),{ok:!1,msg:"服务器异常~"}}).then(function(t){t.ok&&(localStorage.token=t.msg),s&&s(t)})},getToken:function(){return localStorage.token},loggedIn:function(){return!!localStorage.token},logout:function(t){delete localStorage.token,a.a.axios.post("api/platform/login/logout"),t&&t()},signup:function(t,e){a.a.axios.post("api/platform/user/signup",t).then(function(t){return t.data},function(t){return console.log("服务器异常！"),{ok:!1,msg:"服务器异常~"}}).then(function(t){e&&e(t)})}}},33:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app"}},34:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(35),n=s.n(a),i=s(32),r=s(45);s.n(r);e.default={data:function(t){return{tabIndex:0,user:{username:"",password:"",email:""},showMsg:!0,msg:"用户注册成功，请前往您的邮箱进行验证~"}},components:{alert:r.Alert},methods:{select:function(t){this.tabIndex=t},signin:function(){var t=this;i.a.login(this.user.email,this.user.password,function(e){e.ok?alert(e.msg):(t.showMsg=!0,t.msg=e.msg)})},signup:function(){var t=this,e=n()(this.user);i.a.signup(e,function(e){e.ok?(t.showMsg=!0,t.msg="用户注册成功，请前往您的邮箱进行验证~"):(t.showMsg=!0,t.msg=e.msg)})}}}},40:function(t,e){},41:function(t,e){},46:function(t,e,s){s(41);var a=s(8)(s(34),s(48),null,null);t.exports=a.exports},47:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},staticRenderFns:[]}},48:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"index-main"},[s("div",{staticClass:"index-main-body"},[t._m(0),t._v(" "),s("div",{staticClass:"desk-front sign-flow clearfix sign-flow-simple"},[s("div",{staticClass:"index-tab-navs"},[s("div",{staticClass:"navs-slider",attrs:{"data-active-index":t.tabIndex}},[s("a",{class:{active:0===t.tabIndex},attrs:{href:"#"},on:{click:function(e){t.select(0)}}},[t._v("登陆")]),t._v(" "),s("a",{class:{active:1===t.tabIndex},attrs:{href:"#"},on:{click:function(e){t.select(1)}}},[t._v("注册")]),t._v(" "),s("span",{staticClass:"navs-slider-bar"})])]),t._v(" "),0===t.tabIndex?s("div",{staticClass:"view"},[s("form",{on:{submit:function(e){e.preventDefault(),t.signin(e)}}},[s("div",{staticClass:"group-inputs"},[s("div",{staticClass:"input-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{type:"email",id:"email",name:"email",placeholder:"邮箱地址",required:"",autofocus:""},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||(t.user.email=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"input-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"password",name:"password",placeholder:"密码",required:""},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||(t.user.password=e.target.value)}}})])]),t._v(" "),t._m(1)])]):s("div",{staticClass:"view"},[s("form",{on:{submit:function(e){e.preventDefault(),t.signup(e)}}},[s("div",{staticClass:"group-inputs"},[s("div",{staticClass:"input-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{type:"email",id:"email",name:"email",placeholder:"邮箱地址",required:"",autofocus:""},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||(t.user.email=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"input-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"text",id:"username",name:"username",placeholder:"用户名",required:"",autofocus:""},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||(t.user.username=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"input-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"password",name:"password",placeholder:"密码",required:""},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||(t.user.password=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"input-wrapper"},[s("input",{staticClass:"form-control",attrs:{type:"password",id:"password_confirmation",name:"password_confirmation",placeholder:"确认密码",required:""}})])]),t._v(" "),s("div",{staticClass:"button-wrapper"},[s("button",{attrs:{type:"submit",id:"login_button"}},[t._v("注册")])])])])])])]),t._v(" "),t._m(2),t._v(" "),t.showMsg?s("alert",{staticClass:"alertTop",attrs:{type:"warning",closable:!0,duration:3e3},on:{close:function(e){t.showMsg=!1}}},[s("p",[t._v(t._s(t.msg))])]):t._e()],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"index-header"},[s("h1",{staticClass:"title"},[t._v("知乎")]),t._v(" "),s("h2",{staticClass:"subtitle"},[t._v("与世界分享你的知识、经验和见解")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"button-wrapper"},[s("button",{attrs:{type:"submit",id:"login_button"}},[t._v("登陆")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"footer"},[s("span",[t._v("© 2017 知乎")]),t._v(" "),s("span",{staticClass:"dot"},[t._v("·")]),t._v(" "),s("a",{staticClass:"footer-mobile-show",attrs:{href:"/contact"}},[t._v("联系我们")])])}]}}},[31]);
//# sourceMappingURL=app.a7fb35846e515bec42a4.js.map